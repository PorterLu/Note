# PMP详解

## 地址范围

如果选择了`TOR`， 那么这个地址就是地址的顶部，前一个地址是地址的底部。
$$
pmpaddr_{i-1} \le y \le pmpaddr_{i}
$$
这样就可以对这个地址范围内的访问根据配置中选项进行限制。

## 锁

​	一个`PMP`命中或者说符合需要任何一个访问的任何一个byte都在范围内，同时如果`PMP`的地址重叠，则根据最低编号`PMP`进行判断。如果`L`是0，同时现在是`M`模式，那么访问一定成功；否则，要进行`PMP`检查。

​	如果没有`PMP`符合这个访问，且是`M`模式，那么访问成功；如果没有`PMP`被命中，同时至少一个`PMP`已经被设置了，那么这个`U`模式或者`S`模式的访问成功。

